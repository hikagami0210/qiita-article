---
title: ローカルリポジトリをダイエット！不要なGitブランチを瞬時に整理するワンライナーコマンド
tags:
  - Git
  - Linuxコマンド
private: false
updated_at: '2024-09-08T23:51:57+09:00'
id: 9dc88c42bd5951fdc806
organization_url_name: null
slide: false
ignorePublish: false
---
# はじめに
今回は、不要になったローカルブランチを自動的に削除するコマンドを紹介したいと思います。

不要になったローカルブランチというのは、リモートではすでにマージされ削除されたブランチと対応するローカルブランチを指します。

開発をしているとどんどん不要なブランチが溜まっていき、PCの容量を圧迫することにもつながりかねません。

それに、`git branch`を打って山のようにブランチが表示されるのは精神衛生上よろしくありません。(個人の感想です)

そこで、今回紹介するコマンドを打つことで身も心もPCすらも軽くして開発に臨みましょう。

## コマンド
```zsh
$ git fetch -p && git branch -vv | awk '/: gone]/{print $1}' | xargs -p git branch -d
```

これをgitが有効なディレクトリで実行することで、不要なブランチが削除されます。

一応ですが、実行前に確認のメッセージが表示されるようにしてあります。
`y`を入力し`Enter`を押すことで実行されます。

消してはいけないブランチがプロジェクトにある方は目を通してから実行するようにしてください。
確認なんていらないよって方は、`xargs -p`の部分の`-p`を削除してください。


